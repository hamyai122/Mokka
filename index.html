<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mokka | Traditionelle Küche, Modern Serviert</title>
    
    <!-- ========================================================================================== -->
    <!-- ⚠️ DSGVO / GDPR STATUS: NICHT KONFORM (EXTERNE QUELLEN AKTIV)                              -->
    <!-- ========================================================================================== -->

    <!-- 1. FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- 2. TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 3. ICONS -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 5. BILDER QUELLEN & CONFIG -->
    <script id="config">
        const websiteImages = {
            logo: "./Unbenannt.png", 
            
            // HIER DIE SPEISEKARTEN BILDER EINFÜGEN:
            menuPage1: "./speisekarte1.png",
            menuPage2: "./speisekarte2.png",

            heroBackground: "https://images.unsplash.com/photo-1497935586351-b67a49e012bf?q=80&w=2071&auto=format&fit=crop", 
            heroPattern: "url('https://images.unsplash.com/photo-1447933601403-0c6688de566e?q=80&w=2561&auto=format&fit=crop')", 
            storyImage: "https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?q=80&w=1974&auto=format&fit=crop", 
            parallaxBanner: "url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2070&auto=format&fit=crop')"
        };

        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        mokka: {
                            dark: '#0F0F0F',
                            charcoal: '#1A1A1A',
                            coffee: '#231F20', 
                            gold: '#A69076', 
                            cream: '#F5F2EA',
                            paper: '#FEFDFB'
                        }
                    },
                    fontFamily: {
                        serif: ['"Playfair Display"', 'serif'],
                        sans: ['"Lato"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { overflow-x: hidden; background-color: #0F0F0F; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .parallax {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .hover-underline-gold { position: relative; }
        .hover-underline-gold::after {
            content: ''; position: absolute; width: 0; height: 1px; bottom: -4px; left: 0;
            background-color: #A69076; transition: width 0.3s ease;
        }
        .hover-underline-gold:hover::after { width: 100%; }

        ::selection { background: #A69076; color: #0F0F0F; }
        .map-filter { filter: grayscale(100%) invert(92%) contrast(83%); }
        
        /* Utility um Sections auszublenden */
        .page-hidden { display: none !important; }
    </style>
</head>
<body class="text-mokka-paper antialiased">

    <!-- Navigation -->
    <!-- GEÄNDERT: Wieder weißer Hintergrund und dunkle Schrift -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 py-6 px-6 md:px-12 bg-white/95 backdrop-blur-md text-mokka-coffee shadow-sm">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            
            <!-- LOGO -->
            <a href="#" onclick="navigateToHome(event)" class="block hover:opacity-80 transition-opacity duration-300">
                <img id="nav-logo" src="" alt="Mokka Logo" class="h-12 w-auto object-contain">
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex space-x-12 items-center">
                <!-- REITER: SPEISEKARTE (Dunkle Schrift) -->
                <a href="#speisekarte" class="text-xs uppercase tracking-[0.2em] hover-underline-gold text-mokka-coffee font-bold">Speisekarte</a>
                
                <a href="#story" class="text-xs uppercase tracking-[0.2em] hover-underline-gold text-mokka-coffee">Unsere Geschichte</a>
                <a href="#process" class="text-xs uppercase tracking-[0.2em] hover-underline-gold text-mokka-coffee">Handwerk</a>
                <a href="#location" class="text-xs uppercase tracking-[0.2em] hover-underline-gold text-mokka-coffee">Standort</a>
            </div>

            <!-- Mobile Hamburger Button (Dunkle Schrift) -->
            <button class="md:hidden text-mokka-coffee p-2" onclick="toggleMobileMenu()">
                <i data-lucide="menu" class="w-8 h-8"></i>
            </button>
        </div>
    </nav>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu" class="fixed inset-0 bg-[#0F0F0F] z-[100] transform translate-x-full transition-transform duration-300 flex flex-col justify-center items-center">
        <button onclick="toggleMobileMenu()" class="absolute top-8 right-8 text-white/50 hover:text-white">
            <i data-lucide="x" class="w-10 h-10"></i>
        </button>
        
        <div class="flex flex-col space-y-8 text-center">
            <a href="#" onclick="toggleMobileMenu(); navigateToHome(event)" class="font-serif text-3xl text-white hover:text-mokka-gold">Startseite</a>
            
            <!-- MOBILE LINK: SPEISEKARTE -->
            <a href="#speisekarte" onclick="toggleMobileMenu()" class="font-serif text-3xl text-white hover:text-mokka-gold">Speisekarte</a>
            
            <a href="#story" onclick="toggleMobileMenu()" class="font-serif text-3xl text-white hover:text-mokka-gold">Geschichte</a>
            <a href="#process" onclick="toggleMobileMenu()" class="font-serif text-3xl text-white hover:text-mokka-gold">Handwerk</a>
            <a href="#location" onclick="toggleMobileMenu()" class="font-serif text-3xl text-white hover:text-mokka-gold">Standort</a>
            <div class="w-12 h-[1px] bg-white/20 mx-auto my-4"></div>
            <a href="#impressum" onclick="toggleMobileMenu()" class="text-sm uppercase tracking-widest text-white/60">Impressum</a>
            <a href="#datenschutz" onclick="toggleMobileMenu()" class="text-sm uppercase tracking-widest text-white/60">Datenschutz</a>
        </div>
    </div>

    <!-- MAIN PAGE CONTENT (Home) -->
    <main id="page-home">
        
        <!-- 1. HERO SECTION -->
        <header class="relative min-h-screen w-full flex flex-col items-center justify-center overflow-hidden pt-32 pb-16">
            <div class="absolute inset-0 z-0">
                <div class="absolute inset-0 bg-black/70 z-10"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-black/80 via-transparent to-[#0F0F0F] z-10"></div>
                <img id="img-hero" src="" alt="Hero Background" class="w-full h-full object-cover">
            </div>

            <div class="relative z-20 text-center px-4 max-w-4xl mx-auto">
                <p class="reveal text-mokka-gold text-sm md:text-lg uppercase tracking-[0.25em] mb-6 font-sans font-bold drop-shadow-lg">
                    Traditionelle Küche, Modern Serviert
                </p>
                <h1 class="reveal delay-100 font-serif text-5xl md:text-7xl lg:text-8xl text-white leading-none mb-6">
                    Geschaffen für <br> <span class="italic text-white/90">Wahre Genießer</span>
                </h1>
                <p class="reveal delay-200 text-gray-300 text-sm md:text-base font-light tracking-wide max-w-lg mx-auto leading-relaxed mb-10">
                    Kleine Chargen, ethisch bezogen und in Perfektion geröstet. 
                    Erleben Sie die Kunst des Kaffees in ihrer reinsten Form.
                </p>
                <div class="reveal delay-300">
                    <a href="#story" class="group inline-block px-8 py-4 border border-mokka-gold/50 hover:border-mokka-gold bg-transparent hover:bg-mokka-gold/10 transition-all duration-300">
                        <span class="text-white text-xs uppercase tracking-[0.2em] group-hover:text-mokka-gold transition-colors">Mehr Erfahren</span>
                    </a>
                </div>
            </div>

            <div class="absolute bottom-12 left-1/2 transform -translate-x-1/2 z-20 flex flex-col items-center gap-2 opacity-60">
                <span class="text-[10px] uppercase tracking-[0.3em] text-white/50">Scrollen</span>
                <div class="w-[1px] h-12 bg-gradient-to-b from-mokka-gold to-transparent"></div>
            </div>
        </header>

        <!-- 2. BRAND STORY -->
        <section id="story" class="bg-mokka-cream py-32 px-6 md:px-12 text-mokka-coffee">
            <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                <div class="order-2 md:order-1 reveal">
                    <h2 class="font-serif text-4xl md:text-6xl mb-8 leading-tight">Tradition in <br><span class="italic text-mokka-gold">Jeder Bohne</span></h2>
                    <div class="w-12 h-[1px] bg-mokka-coffee/20 mb-8"></div>
                    <p class="font-sans font-light text-lg leading-relaxed text-mokka-coffee/80 mb-6">
                        Mokka begann mit einer einfachen Philosophie: Kaffee ist keine Routine, sondern ein Ritual. Geboren aus dem Wunsch, die langsame, bewusste Kunst des Röstens zurückzugewinnen, beziehen wir nur die feinsten Mikrolots von hochgelegenen Plantagen.
                    </p>
                </div>
                <div class="order-1 md:order-2 reveal delay-200 relative">
                    <div class="aspect-[3/4] overflow-hidden relative group">
                        <img id="img-story" src="" alt="Story" class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105">
                        <div class="absolute top-4 right-4 bottom-4 left-4 border border-white/20 pointer-events-none"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. FEATURES -->
        <section id="process" class="bg-mokka-dark py-32 px-6 border-y border-white/5">
            <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12 md:gap-8 divide-y md:divide-y-0 md:divide-x divide-white/10">
                    <div class="reveal text-center px-4 py-8">
                        <div class="mb-6 flex justify-center text-mokka-gold"><i data-lucide="map-pin" class="w-8 h-8 font-thin stroke-1"></i></div>
                        <h3 class="font-serif text-2xl text-white mb-4">Single-Origin</h3>
                        <p class="font-sans font-light text-gray-400 text-sm leading-relaxed max-w-xs mx-auto">Ausschließlich von nachhaltigen Farmen.</p>
                    </div>
                    <div class="reveal delay-100 text-center px-4 py-8">
                        <div class="mb-6 flex justify-center text-mokka-gold"><i data-lucide="award" class="w-8 h-8 font-thin stroke-1"></i></div>
                        <h3 class="font-serif text-2xl text-white mb-4">Handwerkskunst</h3>
                        <p class="font-sans font-light text-gray-400 text-sm leading-relaxed max-w-xs mx-auto">Geröstet in kleinen Chargen.</p>
                    </div>
                    <div class="reveal delay-200 text-center px-4 py-8">
                        <div class="mb-6 flex justify-center text-mokka-gold"><i data-lucide="gem" class="w-8 h-8 font-thin stroke-1"></i></div>
                        <h3 class="font-serif text-2xl text-white mb-4">Purer Genuss</h3>
                        <p class="font-sans font-light text-gray-400 text-sm leading-relaxed max-w-xs mx-auto">Keine Zusätze, purer Geschmack.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. PARALLAX -->
        <section id="banner-parallax" class="h-[60vh] parallax flex items-center justify-center relative">
            <div class="absolute inset-0 bg-black/60"></div>
            <div class="relative z-10 text-center max-w-2xl px-6">
                <i data-lucide="quote" class="w-8 h-8 text-mokka-gold mx-auto mb-6 opacity-80"></i>
                <h3 class="font-serif text-3xl md:text-5xl text-white leading-tight italic">"Kaffee ist eine Sprache für sich."</h3>
                <p class="mt-4 text-sm uppercase tracking-widest text-white/70">— Jackie Chan</p>
            </div>
        </section>

        <!-- 5. STANDORT / MAP SECTION -->
        <section id="location" class="bg-mokka-dark py-32 px-6">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row gap-16 items-start">
                
                <!-- Text Info & Kontakt-Bereiche -->
                <div class="w-full md:w-1/3 reveal">
                    <h2 class="font-serif text-4xl md:text-5xl text-white mb-6">Besuchen Sie Uns</h2>
                    <div class="w-12 h-[1px] bg-mokka-gold mb-8"></div>
                    <p class="font-sans font-light text-gray-400 mb-8 leading-relaxed">
                        Erleben Sie unsere Röstungen vor Ort in unserer Manufaktur in Neuwied. Genießen Sie eine Tasse in entspannter Atmosphäre.
                    </p>
                    
                    <div class="flex items-start gap-4 mb-8">
                        <i data-lucide="map-pin" class="w-5 h-5 text-mokka-gold mt-1"></i>
                        <p class="text-gray-300 text-sm">Mittelstraße 105<br>56564 Neuwied<br>Deutschland</p>
                    </div>

                    <!-- KONTAKT BEREICHE -->
                    <div class="grid grid-cols-1 gap-4">
                        <a href="tel:015560330735" class="flex items-center gap-4 bg-[#1A1A1A] border border-white/10 p-6 hover:border-mokka-gold transition-colors group">
                            <div class="bg-mokka-gold/10 p-3 rounded-full group-hover:bg-mokka-gold text-mokka-gold group-hover:text-black transition-all">
                                <i data-lucide="phone" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <p class="text-[10px] uppercase tracking-widest text-gray-500">Rufen Sie uns an</p>
                                <p class="text-white font-serif text-lg">015560 330735</p>
                            </div>
                        </a>

                        <a href="mailto:info@mokka-coffee.de" class="flex items-center gap-4 bg-[#1A1A1A] border border-white/10 p-6 hover:border-mokka-gold transition-colors group">
                            <div class="bg-mokka-gold/10 p-3 rounded-full group-hover:bg-mokka-gold text-mokka-gold group-hover:text-black transition-all">
                                <i data-lucide="mail" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <p class="text-[10px] uppercase tracking-widest text-gray-500">Schreiben Sie uns</p>
                                <p class="text-white font-serif text-lg">info@mokka-coffee.de</p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Google Map Iframe -->
                <div class="w-full md:w-2/3 h-[500px] reveal delay-200 border border-white/10 relative overflow-hidden bg-[#1A1A1A]">
                    <iframe 
                        src="https://maps.google.com/maps?q=Mittelstra%C3%9Fe+105%2C+56564+Neuwied&t=&z=15&ie=UTF8&iwloc=&output=embed"
                        width="100%" 
                        height="100%" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade"
                        class="map-filter grayscale"
                    ></iframe>
                </div>

            </div>
        </section>
    </main>

    <!-- PAGE: SPEISEKARTE (New) -->
    <section id="page-menu" class="page-hidden pt-32 pb-20 px-4 min-h-screen bg-mokka-dark flex flex-col items-center">
        <div class="max-w-4xl w-full text-center">
            <h1 class="font-serif text-5xl text-white mb-4">Speisekarte</h1>
            <p class="text-mokka-gold uppercase tracking-widest text-sm mb-12">Genuss auf einen Blick</p>
            
            <div class="flex flex-col gap-8 w-full items-center">
                <!-- Bild 1 -->
                <div class="w-full bg-[#1A1A1A] p-2 border border-white/5 shadow-2xl">
                    <img id="img-menu-1" src="" alt="Speisekarte Seite 1" class="w-full h-auto object-cover">
                </div>
                <!-- Bild 2 -->
                <div class="w-full bg-[#1A1A1A] p-2 border border-white/5 shadow-2xl">
                    <img id="img-menu-2" src="" alt="Speisekarte Seite 2" class="w-full h-auto object-cover">
                </div>
            </div>

            <div class="mt-16">
                <a href="#" onclick="navigateToHome(event)" class="text-mokka-gold hover:text-white transition-colors border-b border-mokka-gold pb-1 text-sm uppercase tracking-widest">← Zurück zur Startseite</a>
            </div>
        </div>
    </section>

    <!-- PAGE: IMPRESSUM -->
    <section id="page-impressum" class="page-hidden pt-32 pb-20 px-6 min-h-screen bg-mokka-dark">
        <div class="max-w-3xl mx-auto">
            <!-- KORREKTUR: Responsive Textgröße und Umbruchverhalten -->
            <h1 class="font-serif text-3xl md:text-5xl text-white mb-8 md:mb-12 break-words hyphens-auto">Impressum</h1>
            <div class="space-y-8 text-gray-400 font-sans font-light">
                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">Angaben gemäß § 5 TMG</h3>
                    <p>Mokka Coffee Co.<br>Mittelstraße 105<br>56564 Neuwied</p>
                </div>
                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">Kontakt</h3>
                    <p>Telefon: 015560 330735<br>E-Mail: info@mokka-coffee.de</p>
                </div>
                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">Umsatzsteuer-ID</h3>
                    <p>Umsatzsteuer-Identifikationsnummer gemäß §27 a Umsatzsteuergesetz:<br>[Ihre USt-IdNr.]</p>
                </div>
                <div class="mt-8">
                    <a href="#" onclick="navigateToHome(event)" class="text-mokka-gold hover:text-white transition-colors border-b border-mokka-gold pb-1">← Zurück zur Startseite</a>
                </div>
            </div>
        </div>
    </section>

    <!-- PAGE: DATENSCHUTZ -->
    <section id="page-datenschutz" class="page-hidden pt-32 pb-20 px-6 min-h-screen bg-mokka-dark">
        <div class="max-w-3xl mx-auto">
            <!-- KORREKTUR: Responsive Textgröße und Umbruchverhalten für lange Wörter -->
            <h1 class="font-serif text-3xl md:text-5xl text-white mb-8 md:mb-12 break-words hyphens-auto">Datenschutzerklärung</h1>
            <div class="space-y-8 text-gray-400 font-sans font-light">
                <p>Diese Datenschutzerklärung klärt Sie über die Art, den Umfang und Zweck der Verarbeitung von personenbezogenen Daten (nachfolgend kurz „Daten“) innerhalb unseres Onlineangebotes auf.</p>
                
                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">1. Datenschutz auf einen Blick</h3>
                    <p>Allgemeine Hinweise: Die folgenden Hinweise geben einen einfachen Überblick darüber, was mit Ihren personenbezogenen Daten passiert, wenn Sie unsere Website besuchen.</p>
                </div>
                
                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">2. Hosting</h3>
                    <p>Wir hosten die Inhalte unserer Website bei folgendem Anbieter: [Muster-Hoster].</p>
                </div>

                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">3. Datenerfassung auf unserer Website</h3>
                    <p><strong>Cookies:</strong> Unsere Internetseiten verwenden so genannte „Cookies“. Cookies sind kleine Textdateien und richten auf Ihrem Endgerät keinen Schaden an.</p>
                </div>

                <div class="bg-[#1A1A1A] p-8 border border-white/5">
                    <h3 class="text-white font-bold mb-2">4. Plugins und Tools</h3>
                    <p><strong>Google Maps:</strong> Diese Seite nutzt den Kartendienst Google Maps. Zur Nutzung der Funktionen von Google Maps ist es notwendig, Ihre IP-Adresse zu speichern. Diese Informationen werden in der Regel an einen Server von Google in den USA übertragen.</p>
                </div>
                
                <div class="mt-8">
                    <a href="#" onclick="navigateToHome(event)" class="text-mokka-gold hover:text-white transition-colors border-b border-mokka-gold pb-1">← Zurück zur Startseite</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-[#0F0F0F] border-t border-white/5 py-16 px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center md:items-start gap-12">
            <div class="text-center md:text-left">
                <a href="#" onclick="navigateToHome(event)" class="block hover:opacity-80 transition-opacity duration-300">
                    <img id="footer-logo" src="" alt="Mokka Logo" class="h-12 w-auto object-contain mx-auto md:mx-0">
                </a>
                <p class="mt-4 text-gray-500 text-xs tracking-wide">Neuwied, Deutschland<br>geg. 2026</p>
            </div>
            <div class="flex flex-col md:flex-row gap-8 text-xs uppercase tracking-widest text-gray-400 items-center">
                <a href="#speisekarte" class="hover:text-mokka-gold transition-colors">Speisekarte</a>
                <a href="#story" class="hover:text-mokka-gold transition-colors">Über Uns</a>
                <a href="#location" class="hover:text-mokka-gold transition-colors">Kontakt</a>
                <a href="#impressum" class="hover:text-mokka-gold transition-colors">Impressum</a>
                <a href="#datenschutz" class="hover:text-mokka-gold transition-colors">Datenschutz</a>
            </div>
            <div class="flex gap-6">
                <a href="#" class="text-gray-500 hover:text-mokka-gold transition-colors"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                <a href="#" class="text-gray-500 hover:text-mokka-gold transition-colors"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                <a href="#" class="text-gray-500 hover:text-mokka-gold transition-colors"><i data-lucide="twitter" class="w-5 h-5"></i></a>
            </div>
        </div>
        <div class="max-w-7xl mx-auto mt-16 pt-8 border-t border-white/5 text-center flex flex-col md:flex-row justify-between items-center">
            <p class="text-gray-600 text-[10px] uppercase tracking-widest">© 2026 Mokka Coffee Co. Alle Rechte vorbehalten.</p>
            <p class="text-gray-600 text-[10px] uppercase tracking-widest mt-2 md:mt-0">Mit Präzision gestaltet.</p>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        // --- 1. CONFIG & ASSETS ---
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('img-hero').src = websiteImages.heroBackground;
            document.getElementById('img-story').src = websiteImages.storyImage;
            document.getElementById('banner-parallax').style.backgroundImage = websiteImages.parallaxBanner;
            document.getElementById('nav-logo').src = websiteImages.logo;
            document.getElementById('footer-logo').src = websiteImages.logo;
            
            // Speisekarte
            document.getElementById('img-menu-1').src = websiteImages.menuPage1;
            document.getElementById('img-menu-2').src = websiteImages.menuPage2;
            
            lucide.createIcons();
            handleRouting(); // Check URL on load
        });

        // --- 2. MOBILE MENU ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const isOpen = !menu.classList.contains('translate-x-full');
            
            if (isOpen) {
                menu.classList.add('translate-x-full'); // Hide
                document.body.style.overflow = '';
            } else {
                menu.classList.remove('translate-x-full'); // Show
                document.body.style.overflow = 'hidden';
            }
        }

        // --- 3. ROUTING / PAGES LOGIC ---
        window.addEventListener('hashchange', handleRouting);

        function handleRouting() {
            const hash = window.location.hash;
            const home = document.getElementById('page-home');
            const impressum = document.getElementById('page-impressum');
            const datenschutz = document.getElementById('page-datenschutz');
            const menu = document.getElementById('page-menu');

            // 1. Hide everything first
            [home, impressum, datenschutz, menu].forEach(el => {
                if(el) el.classList.add('page-hidden');
            });
            
            // 2. Determine active page
            if (hash === '#impressum') {
                if(impressum) impressum.classList.remove('page-hidden');
                window.scrollTo(0, 0);
            } 
            else if (hash === '#datenschutz') {
                if(datenschutz) datenschutz.classList.remove('page-hidden');
                window.scrollTo(0, 0);
            }
            else if (hash === '#speisekarte') {
                if(menu) menu.classList.remove('page-hidden');
                window.scrollTo(0, 0);
            } 
            else {
                // Default: Home
                if(home) home.classList.remove('page-hidden');
                
                // If hash is a section on home (e.g. #story), scroll to it manually
                // because browser native scroll might fail if element was hidden
                if (hash && hash !== '#') {
                    setTimeout(() => {
                        const section = document.querySelector(hash);
                        if (section) section.scrollIntoView({behavior: 'smooth'});
                    }, 10);
                } 
            }
        }

        function navigateToHome(e) {
            if(e) e.preventDefault(); 
            // FIX: Verwende window.location.hash statt history.pushState um Fehler in Sandbox zu vermeiden
            if (window.location.hash !== '') {
                window.location.hash = ''; // Setzt Hash zurück, löst 'hashchange' aus -> ruft handleRouting() auf
            } else {
                // Wenn Hash schon leer ist, manuell Ansicht aktualisieren
                handleRouting();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // --- 4. ANIMATIONS ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('active');
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- 5. NAVBAR SCROLL (SIMPLIFIED FOR WHITE HEADER) ---
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                // Nur noch Padding/Shadow ändern, nicht die Hintergrundfarbe (bleibt weiß)
                navbar.classList.add('shadow-lg', 'py-4');
                navbar.classList.remove('py-6');
            } else {
                navbar.classList.remove('shadow-lg', 'py-4');
                navbar.classList.add('py-6');
            }
        });
    </script>
</body>
</html>

